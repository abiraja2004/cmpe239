THE REPRESENTATION OF CONSTITUENT STRUCTURES FOR FINITE-STATE PARSING 
D. Terence  Langendoen 
Yed ldyah Langsam 
Departments of English and Computer & Information Science 
Brooklyn College of the City University of New York 
Brooklyn, New York 11210 U.S.A. 
ABSTBACT 
A mixed prefix-postfix notation for repre- 
sentations of the constituent structures of the 
expressions of natural languages is proposed, 
which are of limited degree of center embedding if 
the original expressions are noncenter-embedding. 
The method of constructing these representations 
is applicable to expressions with center embed- 
ding, and results in representations which seem to 
reflect the ways in which people actually parse 
those expressions. Both the representations and 
their interpretations can be computed from the ex- 
pressions from left to right by finite-state de- 
v ices .  
The class of acceptable expressions of a na- 
tural language L all manifest no more than a 
small, fixeR, finite degree n of center embedding. 
From this observation, it fo~lows that the ability 
of human beings to parse the expressions of L can 
be modeled by a finite transducer that associates 
with the acceptable expressions of L representa- 
tions of the structural descriptions of those ex- 
pressions. This paper considers some initial 
steps in the construction of such a model. The 
first step is to determine a method of represen- 
ting the class of constituent structures of the 
expressions of L without center embedding in such 
a way that the members of that class themselves 
have no more than a small fixed finite degree of 
center embedding. Given a grammar that directly 
generates that class of constituent structures, it 
is not difficult to construct a deterministic fi- 
nite-state transducer (parser) that assigns the 
appropriate members of that class to the noncen- 
ter-embedded expressions of L from left to right. 
The second step is to extend the method so that it 
is capable of representing the class of constitu- 
ent structures of expressions of L with no more 
than degree n of center embedding in a manner 
which appears to accord with the way in which hu- 
man beings actually parse those sentences. Given 
certain reasonable assumptions about the character 
of the rules of grammar of natural languages, we 
show how this step can also be taken. 
*This work was partly supported by a gran t from 
the PSC-CUNY Faculty Research Award Program. 
Let G be a context-free phrase-structure 
grammar (CFPSG). First, suppose that the category 
A in G is right-recursive; i.e., that there are 
subderivations with respect to G such that 
A ==~ X A, where X is a nonnull string of symbols 
(terminal, nonterminal, or mixed). We seek a new 
CFPSG G*, derived from G, that contains the cate- 
gory A* (corresponding to A), such that there are 
subderivations with respect to G* of the form 
A* ==8 X* A*, where X* represents the constituent 
structure of X with respect to G. Next, suppose 
that the category B in G is left-recursive; i.e., 
that there are subderivations with respect to G 
such that B ==~ B Y, where Y is nonnull. We seek 
a new CFPSG G*, derived from G, that contains the 
category B* (corresponding to B), such that there 
are subderivations with respect to G* of the form 
B* ==~ B* Y*, where Y* represents the constituent 
structure of Y with respect to G. In other words, 
given a grammar G, we seek a grammar G* that di- 
rectly generates strings that represent the con- 
stituent structures of the noncenter-embedded ex- 
pressions generated by G, that is right-recursive 
wherever G is right-recursive and is left-recur- 
sive wherever G is left-recursive. 
In order to find such a G*, we must first de- 
termine what kinds of strings are available that 
can represent constituent structures and at the 
same time can be directly generated by noncenter- 
embedding grammars. Full bracketing diagrams are 
not suitable, since grammars that generate them 
are center embedding whenever the original gram- 
mars are left- or right-recursive (Langendoen 
1975). Suppose, however, that we leave off right 
brackets in right-recursive structures and left 
brackets in left-recursive structures. In right- 
recursive structures, the positions of the left 
brackets that remain indicate where each constitu- 
ent begins; the position where each constituent 
ends can be determined by a simple counting pro- 
cedure provided that the number of daughters of 
that constituent is known (e.g., when the original 
grammar is in Chomsky-normal-form). Similarly, 
in left-recursive structures, the positions of the 
right brackets that remain indicate where each 
constituent ends, and the position where each con- 
stituent begins can also be determined simply by 
counting. Moreover, since brackets no longer oc- 
cur in matched pairs, the brackets themselves can 
be omitted, leaving only the category labels. In 
left-recursive structures, these category symbols 
occur as postfixes; in right-recursive structures, 
24 
they occur as prefixes. Let us call any symbol 
which occurs as a prefix or a postf ix in a string 
that represents the const ituent structure of an 
expression an affix; the strings themselves af -  
f ixed strings; and the grammars that generate 
those strings affix gra1~ars. 
To see how aff ix grammars may be constructed, 
consider the noncenter-embedding CFPSG GI, which 
generates the art i f icial  language L1 = a(b*a)*b*a. 
(G1) a. S ? S A b. A ? B A 
c. A ~ a d. B * b 
e. S ) a 
A noncenter-embedding aff ix grammar that generates 
the aff ixed strings that represent the constituent 
structures of the expressions of L1 with respect 
to G1 is given in GI*. 
(GI*) a. S ~ ~ S* A* S b. A* ? A B* A* 
c. A* > A a d. B* ? B b 
e. S ~ ~ S a 
Among the expressions generated by GI is El; the 
aff ixed string generated by GI* that represents 
its structural descript ion is El*. 
(El) abbaba 
(El*) SaABbABbAaSABbAaS 
Let us say that an aff ix covers  elements in 
an aff ixed string which correspond to its consti -  
tuents (not necessari ly immediate). Then El* may 
be interpreted as a structural descript ion of E1 
with respect to GI according to the rules in R, 
in which J, K, and L are affixes; k is a word; x 
and y are substrings of aff ixed strings; and G is 
a CFPSG (in this case, GI). 
(R) a. If K ~ k is a rule of G, then in 
the conf igurat ion ... K k ..., K is 
a pref ix which covers k. 
b. If J ~ K L is a rule of G, then 
in the conf igurat ion ... J K x L ..., 
in which x does not contain L, J is 
a prefix which covers K L. 
c? If J d K L is a rule of G, then in 
the conf igurat ion ... K x L y J ..., 
in which x does not contain L and y 
does not contain K, J is a postf ix 
which covers K L. 
Coverage of constituents by the rules in R may be 
thought to be assigned dynamical ly from left to 
right. 
A postf ix is used in rule Gl*a because the 
category S is left-recursive in GI, whereas a pre- 
fix is used in rule Gl*b because the category A is 
r ight-recursive in GI. The use of pref ixes in 
rules Gl*c-e, on the other hand, is unmotivated if 
the only criteria for choosing an aff ix type have 
to do with direct ion of recursion. For aff ix 
grammars of natural languages, however, one can 
motivate the decision to use a part icular type of 
aff ix by pr inciples other than those having to do 
with direction of recursion. 
The use of a pref ix can be interpreted as in- 
dicating a decision (or guess) on the part of the 
language user as to the identity of a part icular 
constituent on the basis of the identity of the 
first constituent in it. Since lexical items are 
assigned to lexical categories essential ly as soon 
as they are recognized (Forster 1976), we may sup- 
pose first that prefixes are used for rules such 
as those in Gl*c-e that assign lexical items to 
lexical categories. Second, if, as seems reason- 
able, a decision about the identity of const itu-  
ents is always made as soon as possible, then we 
may suppose that prefixes are used for all rules 
in which the leftmost daughter of a part icular 
constituent provides suff icient evidence for the 
identi f icat ion of that constituent; e.g., if the 
leftmost daughter is either the specif ier or the 
head of that constituent in the sense of Jacken- 
doff (1977). Third, we may suppose that even if 
the leftmost daughter of a part icular constituent 
does not provide suff icient evidence for the iden- 
t i f icat ion of that constituent,  a pref ix may still 
be used if that constituent is the left sister of 
a constituent that provides suff icient evidence 
for its identif ication. Fourth, we may suppose 
that postf ixes are used in all other cases. 
To i l lustrate the use of these four pr in-  
ciples, consider the noncenter-embedding partial  
grammar G2 that generates a fragment of Engl ish 
that we call L2. 
(G2) a. S ~ NP VP b .  l ip  ~ D 
c .~ ? ~g  d.~ ? ~c  
e. H > N f. VP P V ( \ [~,C~)  
g. C P C S h.  C , that  
i .  D > Zhe j .  C 
k .  ~ ~ {boss ,  ch i ld  . . .~  
1.  V ? {knew,  saw . . . .  
? o s 
Among the expressions of L2 are those with both 
r ight-recursion and left-recursion, such as E2. 
(E2) the boss knew that the teacher's sis- 
ter's neighbor's fr iend bel ieved that 
the student saw the chi ld 
We now give an aff ix grammar G2* that direct- 
ly generates aff ixed strings that represent the 
structural descr ipt ions of the expressions of L2 
with respect to G2, and that has been constructed 
in accordance with the four pr inciples descr ibed 
above. 
25 
(G2*) a. i. S* S NP* VP* I C that  
ii. S*----> NP* VP* S / e lsewhere  
b. NP* ~ NP D* N* 
c .  NP* - - -~  G* N* NP 
e. ~* - - -~  R N* 
g. ~* ~ Uc*S*  
h.  C* ? C that  
i .  1~- - -~ D the  
j .  G ~ > G 's  
k.  N* ? N ~ch i ld ,  house ,  . . .~  
1 .  V ~ ) V ~k.new, saw,  - - - i  
Rules G2Wh-I conform to the first principle, 
according to which lexical categories generally 
appear as prefixes. Rules G2*b,e-g conform to the 
second principle, according to which a category 
appears as a prefix if Its leftmost daughter in 
the corresponding rule of G2 is its head or speci- 
fier. Rule G2*ai conforms to the third principle, 
according to which a category appears as a prefix 
if its presence can be predicted from its right 
sister in G2. Finally, rules G2*aii,c,d conform 
to the fourth principle, according to which a ca- 
tegory appears as a postfix if it cannot appear as 
a prefix according co the preceding three prin- 
ciples. 
The affixed string that G2* generates as the 
representation of the structural description of E2 
with respect to G2 is given in E2*. 
(E2*) NP D the N N boss VP V knew C C that S 
NP D the N N teacher G 's  G N N sister 
NP G 's  G N N neighbor NP G 's  G N N 
friend NP VP V believed C C that S NP D 
the N N student VP V saw NP D the N N 
child S 
E2* can be interpreted as the structural descrip- 
tion of E2 with respect to G2 by the rules in R, 
with the addition of a rule to handle unary non- 
lexical branching (as in G2e), and a modification 
of Rc to prevent a postfix from simply covering a 
sequence of affixes already covered by a prefix. 
(This restriction is needed to prevent the postfix 
S in E2* from simply covering any of the subordi- 
nate clauses in that expression.) It is worth 
noting how the application of those rules dynami- 
cally enlarges the NP that is covered by the S prefix 
that follows the words knew that. First the tea- 
cher is covered; then the teacher's sister; then 
the teacher's sister's neighbor; and finally the 
teacher's sister's neighbor's friend. 
The derivation of E2* manifests first-degree 
center embedding of the category S*, as a result 
of the treatment of S as both a prefix and a suf- 
fix in G2*. However, no derivation of an affixed 
string generated by G2* manifests any greater de- 
gree of center embedding; hence, the affixed 
strings associated with the expressions of L2 can 
still be assigned to them by a finite-state parser. 
The added complexity involved in interpreting E2* 
results from the fact that all but the first of 
the NP-VP sequences in E2* are covered by prefix 
Ss, so that the constituents covered by the post- 
fix S in E2* according to rule Rc are considerably 
far away from it. 
It will be noted that we have provided two 
logically independent sets of principles by which 
affixed grammars may be constructed from a given 
CFPSG. The first set is explicitly designed to 
preserve the property of noncenter-embedding. The 
second is designed to maximize the use of prefixes 
on the basis of being able to predict the identity 
of a constituent by the time its leftmost descen- 
dent has been identified. There is no reason to 
believe a priori that affixed grammars constructed 
according to the second set of principles should 
preserve noncenter-embedding, and indeed as we 
have just seen, they don't. However, we conjec- 
ture chat natural languages are designed so that 
representations of the structural descriptions of 
acceptable expressions of those languages can be 
assigned to them by finite-state parsers that op- 
erate by identifying constituents as quickly as 
possible. We call this the Eff ic ient  F in i te-  
State  Parser  Hypothes is .  
The four principles for determining whether 
to use a prefix or a postfix to mark the presence 
of a particular constituent apply to grammars that 
are center embedding as well as to those that are 
not. Suppose we extend the grammar G2 by replac- 
ing rules G2e and f by rules G2e' and f' respec- 
tively, and adding rules G2m-s as follows: 
(G2) e'. N ---~ N (PP1) 
f , .  ve > v (sP) ({Pe2,  ~)  
m. NP ? NP PP2 
n. PP1 ? PI NP 
o. PP2 ? P2 NP 
p w ~ vP IA, PP21 
q. A ~ yesterday  
r .  P1 - - ->  o f  
S. P2 ~ ~in, on, ...\] 
Among the expressions generated by the extended 
grammar G2 are those in E3. 
(E3) a. the boss knew that the teacher saw 
the child yesterday 
b. the friend of the teacher's sister 
26 
Although each of the expressions in E3 is am- 
biguous with respect to G2, each has a strongly 
preferred interpretation. Moreover, under each 
interpretation, each of these sentences manifests 
first-degree center embedding. In E3, the includ- 
ed VP saw the child is wholly contained in the in- 
cluding VP knew that the teacher saw the child 
yesterday; and in E3b, the included NP the teacher 
is wholly contained in the including NP the friend 
of the teacher's sister. 
Curiously enough, the extension of the affix 
grammar that our principles derive from the exten- 
sion of the grammar G2 just given associates only 
one affixed string with each of the expressions in 
E3. That grammar is obtained by replacing rules 
G2*e and F with G2*e' and f' respectively, and ad- 
ding the rules G2*m-s as follows. 
(G2*) e' N* > N M* (PPI*) 
f'. VP* > VP V* (NP*) (\[PP2*, C*}) 
m. NP* ~ NP* PP2* NP 
n .  PP I *  - - ->  PP1P I*  NP ~ 
o .  PP2* > PP2 P2*  NP* 
p. VP* ~ VP* {A*, PP2*} VP 
q.  A* P A yes terday  
r. P I*  ? P1 o f  
s. F2* - - -~  P2 f in ,  on . . . .  J 
The affix strings that the extended affix grammar 
G2* associates with the expressions in E3 are 
given in E3*. 
(E3 ~) a. NP D the N N boss VP V knew C C that 
S NP D the N N teacher VP V saw NP D 
the N N child A yesterday VP S 
b. NP D the N N friend PP1 P1 of NP D 
the N N teacher G 's  G N N sister NP 
We contend that the fact that the expressions 
in E3 have a single strongly preferred interpreta- 
tion results from the fact that those expressions 
have a single affixed string associated with them. 
Consider first E3a and its associated affixed 
string E3*a. According to rule Rc, the affix VP 
following yesterday is a postfix which covers the 
affixes VP and A. Now, there is only one occur- 
rence of A in E3*a, namely the one that immediate- 
ly precedes yesterday; hence that must be the oc- 
currence which is covered by the postfix VP. On 
the other hand, there are two occurrences of pre- 
fix VP in E3*a that can legitimately be covered by 
the postfix, the one before saw and the one before 
knew. Suppose in such circumstances, rule Rc 
picks out the nearer prefix. Then automatically 
the complex VP, saw the child yesterday, is co- 
vered by the subordinate S prefix, in accordance 
with the natural interpretation of the expression 
as a whole. 
Next, consider E3b and its associated affixed 
string E3*b. According to rule Rc, the G is a 
postfix that covers the affixes NP and G. Two oc- 
currences of the prefix NP are available to be 
covered; again, we may suppose that rule Rc picks 
out the nearer one. If so, then automatically the 
complex NP, the teacher's sister, is covered by 
PPI, again in accordance with the natural inter- 
pretation of the expression as a whole. 
This completes our demonstration of the abil- 
ity of affixed strings to represent the structural 
descriptions of the acceptable sentences of a na- 
tural language in a manner which enables them to 
be parsed by a finite-state device, and which also 
predicts the way in which (at least) certain ex- 
pressions with center embedding are actually in- 
terpreted. Much more could be said about the sys- 
tem of representation we propose, but time and 
space limitations preclude further discussion 
here. We leave as exercises to the reader the 
demonstration that the expression E4a has a single 
affixed string associated with it by G2*, and that 
the left-branching (stacked) interpretation of E4b 
is predicted to be preferred over the right- 
branching interpretation. 
(E4) a. the student saw the teacher in the 
house 
b. the house in the woods near the 
stream 
ACKNOWLEDGMENT 
We thank Maria Edelste in for  her invaluable 
help in developing the work presented here. 
REFERENCES 
Forster, Kenneth I. (1976) Accessing the mental 
lexicon. In R.J. Wales and E.T. Walker, 
eds., New Approaches to Language Mechanisms. 
Amsterdam: North-Holland. 
Jackendoff, Ray S. (1977) X-Bar Syntax. Cam- 
bridge, Mass.: MIT Press. 
Langendoen, D. Terence (1975) Finite-state par- 
sing of phrase-structure languages and the 
status of readjustment rules in grammar. 
Linguistic Inquiry 6.533-54. 
27 
